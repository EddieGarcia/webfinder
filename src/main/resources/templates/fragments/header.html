<!DOCTYPE html>
<html>
<body>

	<nav class="navbar navbar-inverse" th:fragment="header">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">My project</a>
		</div>

		<div class="navbar-collapse collapse">
			<ul class="nav navbar-nav">
				<li th:classappend="${module == 'home' ? 'active' : ''}">
					<a href="#" th:href="@{/}">Home</a>
				</li>
				<li th:classappend="${module == 'tasks' ? 'active' : ''}">
					<a href="#" th:href="@{/task}">Tasks</a>
				</li>
			</ul>
			
			<ul class="nav navbar-nav navbar-right">
				<li sec:authorize="!isAuthenticated()">
					<a href="/login">Sign in</a>
				</li>
				
				<li sec:authorize="!isAuthenticated()">
					<a href="/registration">Register</a>
				</li>
				
				<li sec:authorize="isAuthenticated()">
					<a href="#"><span th:text ="${#authentication.getPrincipal().getUsername()}"></span></a>
				</li>
				
				<li sec:authorize="isAuthenticated()">
					<a href="/logout">Logout</a>
				</li>
			</ul>
		</div>
	</nav>

</body>
</html>